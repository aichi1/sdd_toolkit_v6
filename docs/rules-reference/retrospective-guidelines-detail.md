# Retrospective Guidelines

セッション終了時の振り返りガイドライン - 学習の質を高め、次回セッションへの橋渡しをする

## 目的

- セッションで得た学びを言語化し定着させる
- うまくいった/いかなかったパターンを抽出する
- 次回セッションへの具体的なアクションを明確にする
- CLAUDE.mdやカリキュラムへのフィードバックループを回す

## 振り返りの3ステップ（5〜7分）

### 1. Facts（事実の記録）2分

**何をしたか**
- [ ] 完了したタスク（チェックボックス更新済みか確認）
- [ ] 新規作成/変更したファイル一覧
- [ ] 実行したコマンド（特に初めて使ったもの）
- [ ] Git commit数とメッセージ

**結果**
- [ ] テストの状態（何件追加/green化/red残り）
- [ ] 動作確認の結果（スクショや動画があればベター）
- [ ] 予定との差異（時間・スコープ）

### 2. Feelings & Findings（感情と発見）3分

**良かった点（Keep）**
```
例：
- TDDサイクルを3回回せた。小さく失敗→修正が習慣化してきた
- Plan Modeで先に合意したおかげで手戻りゼロだった
- Claude Codeの--output-style learningが丁寧で理解が深まった
```

**課題・詰まった点（Problem）**
```
例：
- pytestの非同期テストでハマった（30分ロス）
- CORS設定を後回しにして、FE連携時に戻り作業
- API設計の曖昧さが後から響いた
```

**新しい発見・学び（Discovery）**
```
例：
- FastAPIのdependency injectionパターンを理解
- Reactのカスタムフックでロジック分離する利点を実感
- Docker composeの--build不要なケースを学んだ
```

### 3. Future Actions（次への行動）2分

**即座に記録すべきこと**
- [ ] CLAUDE.mdに追記（新コマンド/規約/構成変更）
- [ ] README更新（セットアップ手順が変わった場合）
- [ ] カリキュラムのチェックボックス更新
- [ ] 変更履歴への1行追記

**次回セッションへの引き継ぎ**
```markdown
## Next Session Starter（次回の最初に読む）

**前回の終了状態**
- コミットID: abc123
- テスト状態: 11/11 passing (TaskCRUD完了)
- 動作確認: ○ POST/GET/PUT/DELETE all green

**次のマイルストーン**
- [ ] FE: タスク一覧表示コンポーネント作成
- [ ] BE: CORS設定追加
- [ ] 連携: FE→BE疎通確認

**前回の懸念・TODO**
- 非同期テストのベストプラクティス調査（pytest-asyncio）
- エラーハンドリングの統一方針検討
- Docker化の前にローカル動作を安定化
```

**改善アイデア（やってみる価値あり）**
```
例：
- テンプレート化：pytest fixtureをconftest.pyに集約
- 自動化：pre-commit hookでlint/format
- 可視化：テストカバレッジレポート追加
- 学習：公式ドキュメントの○○章を読む
```

## 振り返りの記録先

### 短期（セッション単位）
- このプロジェクトの `CLAUDE.md` 内の「変更履歴」セクション
- セッションごとの日付で1行サマリ + 詳細は折りたたみ

### 中期（カリキュラム全体）
- カリキュラムドキュメントの「変更履歴」
- フェーズ完了時のマイルストーン記録

### 長期（個人の知識ベース）
- プロジェクト横断の学びは個人のメモに（Notion/Obsidianなど）
- 再利用可能なテンプレート・スニペット化

## チェックリスト形式の振り返りシート

```markdown
## Session Retrospective: YYYY-MM-DD HH:MM

### Completion ✅
- [ ] 予定タスク完了率: __% (N/M)
- [ ] Tests: __ passing / __ failing / __ skipped
- [ ] Commits: __ commits with meaningful messages
- [ ] Docs: CLAUDE.md / README updated

### Keep 💚
1. 
2. 
3. 

### Problem 🔴
1. 
2. 
3. 

### Discovery 💡
1. 
2. 
3. 

### Try Next 🚀
1. 
2. 
3. 

### Time Analysis ⏱️
- Planning: __min
- Implementation: __min
- Testing: __min
- Debugging: __min
- Documentation: __min

### Handoff to Next Session
**Resume from:** 
**First task:** 
**Watch out for:** 
```

## 振り返りのアンチパターン

❌ **避けるべきこと**
- 振り返りを省略（次回セッションで文脈喪失）
- 抽象的すぎる記録（「良かった」だけで具体性ゼロ）
- 問題点の羅列のみ（改善アクションなし）
- 完璧主義（7分を20分かけてしまう）

✅ **推奨すること**
- 5〜7分で完結させる（記録は簡潔に）
- 具体的な事実ベース（コマンド・ファイル名・行数）
- 小さな改善を1つでも次回に活かす
- 感情も記録（モチベーション維持に重要）

## 振り返りの活用シーン

1. **次回セッション開始時**
   - "Next Session Starter"を読んで即座にコンテキスト復元
   
2. **カリキュラム改善**
   - 複数セッションのProblemから共通パターン抽出
   - テンプレート・ガイドラインの更新
   
3. **成果発表時**
   - 学びのサマリとして振り返りログを活用
   - ビフォーアフターの可視化
   
4. **詰まった時**
   - 過去の類似Problemと解決策を参照
   - 成功パターンの再現

## まとめ

振り返りは「記録」ではなく「学習の加速装置」。

- **短時間で具体的に**（5〜7分厳守）
- **次回の自分への贈り物**（コンテキストスイッチコスト削減）
- **改善の種を育てる**（小さなTryの積み重ね）

> 良い振り返りは、次回セッションの最初の10分を30秒に短縮する。