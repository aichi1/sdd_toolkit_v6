# Evaluation Report: v6.3

**Date**: 2026-02-12
**Iteration**: v6.3
**Theme**: Validator 自動プリチェック + カテゴリ別検証チェックリスト

## 変更内容

| # | ファイル | 変更 |
|---|---------|------|
| 1 | `scripts/validate-outputs.py` | 新規: Builder成果物の自動プリチェック（ファイル存在、メタデータ、必須セクション） |
| 2 | `.claude/skills/run-phase/SKILL.md` | Phase 1.5（自動プリチェック）追加、Phase 2 に Step 2.0（カテゴリ別チェックリスト準備）追加 |
| 3 | `.claude/agents/validator.md` | コンテキスト優先度にカテゴリテンプレ・プリチェック結果を追加、Quality Criteria 全項目検証の義務化 |

## スコア比較 (v6.1 → v6.2 → v6.3)

| Axis | v6.1 | v6.2 | v6.3 | v6.2→v6.3 |
|------|------|------|------|-----------|
| **correctness** | 2.67 | 3.00 | **4.00** | **+1.00** |
| completeness | 2.00 | 4.00 | 4.00 | 0 |
| efficiency | 2.67 | 3.00 | 3.00 | 0 |
| robustness | 2.00 | 3.00 | **3.33** | **+0.33** |
| maintainability | 3.00 | 3.00 | 3.00 | 0 |
| usability | 2.33 | 3.67 | 3.67 | 0 |
| safety | 3.00 | 3.00 | 3.00 | 0 |

**Overall Mean**: 2.52 → 3.24 → **3.43** (+0.19 from v6.2, +0.91 from v6.1)

## 仮説 vs 実績

| 軸 | 仮説 | 実績 | 判定 |
|----|------|------|------|
| correctness | +1.00 | **+1.00** | 仮説通り |
| efficiency | +0.33 | 0 | 未達 |
| robustness | +0.33 | **+0.33** | 仮説通り |

efficiency が未達の理由: プリチェック追加による手順増が、早期FAIL検出の効率化を相殺。実運用では差が出る可能性があるが、構造的には手順が1つ増えたのは事実。

## 変わらなかった軸の分析

- **completeness (4.00)**: v6.2 でテンプレ追加済み。v6.3 はテンプレ自体は変更なし → 変化なし妥当
- **usability (3.67)**: プリチェックはコマンドライン実行なのでユーザー導線に直接影響しない → 変化なし妥当
- **maintainability (3.00)**: スクリプト1ファイル追加。影響範囲は限定的。ただし scripts/ ディレクトリが新設されたので若干の構造複雑化
- **safety (3.00)**: 今回の変更はセキュリティ面に影響なし

## 3イテレーションの推移

```
Overall: 2.52 → 3.24 → 3.43
         ──────  ──────  ──────
v6.1     v6.2    v6.3
(base)   (+0.72) (+0.19)
```

v6.2 の改善幅が大きく、v6.3 は収穫逓減傾向。残りの改善余地は efficiency (3.00), maintainability (3.00), safety (3.00) に集中。

## 根拠ファイル
- `eval/runs/v6.3/*/score.json`
- `scripts/validate-outputs.py`
- `.claude/skills/run-phase/SKILL.md`
- `.claude/agents/validator.md`

## 次の改善仮説 (Top 3)

### 1. efficiency 向上: /init-task の質問フロー最適化
- 現状: 対話型仕様収集がファイルごとに進むため、回数が多い
- 提案: カテゴリ別の初期質問テンプレートで必要情報を一括収集
- 期待: efficiency +1

### 2. maintainability 向上: rules/ の統合・圧縮
- 現状: rules/ に6ファイルあり、重複・冗長な記述がある
- 提案: 重複を排除し、rules/ を3-4ファイルに統合
- 期待: maintainability +1

### 3. safety 向上: outputs/ 書き込み時のセキュリティチェック強化
- 現状: check-docs-exist.py は docs/ 存在のみチェック
- 提案: outputs/ への書き込み時に .env, credentials 等の機密ファイルを検出・警告
- 期待: safety +1
