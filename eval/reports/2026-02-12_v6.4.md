# Evaluation Report: v6.4

**Date**: 2026-02-12
**Iteration**: v6.4
**Theme**: init-task ワンショット仕様収集 + run-phase ファストパス + スマートモード

## 変更内容

| # | ファイル | 変更 |
|---|---------|------|
| 1 | `templates/intake/research_report.md` | 新規: research_report 用ワンショット質問セット（10問一括） |
| 2 | `templates/intake/small_implementation.md` | 新規: small_implementation 用ワンショット質問セット（8問一括） |
| 3 | `templates/intake/internal_proposal.md` | 新規: internal_proposal 用ワンショット質問セット（9問一括） |
| 4 | `.claude/skills/init-task/SKILL.md` | Step 1.3 をワンショット方式に全面改訂（per-file Q&A 廃止） |
| 5 | `.claude/skills/run-phase/SKILL.md` | ファストパス判定（Step 1.5.3）追加、スマートモード（Strategy 3）追加 |
| 6 | `templates/team-roster.json` | 各task_typeに `intake_template` フィールド追加 |

## スコア比較 (v6.2 → v6.3 → v6.4)

| Axis | v6.2 | v6.3 | v6.4 | v6.3→v6.4 |
|------|------|------|------|-----------|
| correctness | 3.00 | 4.00 | 4.00 | 0 |
| completeness | 4.00 | 4.00 | 4.00 | 0 |
| **efficiency** | 3.00 | 3.00 | **4.00** | **+1.00** |
| robustness | 3.00 | 3.33 | 3.33 | 0 |
| maintainability | 3.00 | 3.00 | 3.00 | 0 |
| usability | 3.67 | 3.67 | 3.67 | 0 |
| safety | 3.00 | 3.00 | 3.00 | 0 |

**Overall Mean**: 3.24 → 3.43 → **3.57** (+0.14 from v6.3, +1.05 from v6.1)

## 仮説 vs 実績

| 軸 | 仮説 | 実績 | 判定 |
|----|------|------|------|
| efficiency | +1.00〜+1.33 | **+1.00** | 仮説通り（下限） |
| usability | 0〜+0.33 | 0 | 許容範囲 |

efficiency +1.00 の内訳:
- **ワンショット仕様収集**: init-task の Q&A ラウンドを N ファイル分 → 1回に圧縮。research_report は 5ファイル個別→10問一括、small_implementation は 4ファイル個別→8問一括
- **ファストパス**: Quality Criteria ≤5 & 成果物≤3 のPhaseで Validator フルエージェント不要。T2(implementation) が最も恩恵大
- **スマートモード**: `/run-phase all` のデフォルトが Strategy 3（PASS時自動進行）に変更。ユーザー確認の手数削減

usability が +0 の理由: インテークテンプレートは init-task の UX を改善するが、eval の usability は成果物の README/導線で測定されるため、直接的なスコア向上には繋がらない。

## 変わらなかった軸の分析

- **correctness (4.00)**: v6.3 のテンプレ+プリチェック+Validator義務が維持。変更なし
- **completeness (4.00)**: テンプレートの必須セクション構成は変更なし
- **robustness (3.33)**: インテークテンプレにデフォルト値はあるが、Builder/Validator の入力ゆらぎ耐性自体は変化なし
- **maintainability (3.00)**: 3ファイル追加（templates/intake/）だが、既存ファイルの修正は最小限。構造複雑化は限定的
- **safety (3.00)**: 今回の変更はセキュリティ面に影響なし

## 4イテレーションの推移

```
Overall: 2.52 → 3.24 → 3.43 → 3.57
         ──────  ──────  ──────  ──────
v6.1     v6.2    v6.3    v6.4
(base)   (+0.72) (+0.19) (+0.14)
```

improvement/iteration は逓減しているが、個別軸では確実に改善:
- v6.2: completeness 2→4, usability 2.3→3.7（テンプレ追加）
- v6.3: correctness 3→4（プリチェック+Validator義務化）
- v6.4: efficiency 3→4（ワンショット+ファストパス）

残り改善余地: maintainability (3.00), safety (3.00), robustness (3.33)

## 根拠ファイル
- `templates/intake/*.md`（3ファイル）
- `.claude/skills/init-task/SKILL.md`（Step 1.3 改訂）
- `.claude/skills/run-phase/SKILL.md`（Step 1.5.3 + Strategy 3）
- `templates/team-roster.json`（intake_template 追加）
- `eval/runs/v6.4/*/score.json`

## 次の改善仮説 (Top 3)

### 1. maintainability 向上: rules/ の統合・圧縮
- 現状: `.claude/rules/` に6ファイル、一部重複・冗長な記述がある
- 提案: 重複を排除し、rules/ を3-4ファイルに統合。または要約版を作成
- 期待: maintainability +1

### 2. safety 向上: outputs/ への機密ファイル検出
- 現状: validate-outputs.py は構造チェックのみ。機密情報の検出なし
- 提案: .env, credentials, API key パターンを outputs/ から検出・警告する機能追加
- 期待: safety +1

### 3. robustness 向上: init-task の未知カテゴリ耐性
- 現状: 3カテゴリ以外は汎用テンプレートにフォールバック
- 提案: 汎用インテークテンプレート追加 + カテゴリ自動推定の精度向上
- 期待: robustness +0.33〜+0.67
